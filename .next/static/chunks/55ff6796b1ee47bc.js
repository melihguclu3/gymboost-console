(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45068,e=>{"use strict";let t=(0,e.i(9983).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],45068)},71032,(e,t,a)=>{t.exports=e.r(71651)},24692,e=>{"use strict";let t=(0,e.i(9983).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>t],24692)},78030,e=>{"use strict";let t=(0,e.i(9983).default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);e.s(["RefreshCcw",()=>t],78030)},91250,e=>{"use strict";var t=e.i(58553),a=e.i(53292),s=e.i(71032);e.i(60384);var r=e.i(14865),i=e.i(60126),l=e.i(24692),n=e.i(45068),o=e.i(9983);let d=(0,o.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var c=e.i(78030);let x=(0,o.default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var h=e.i(53003);function u(){let e=(0,s.useRouter)(),[o,u]=(0,a.useState)("request"),[m,p]=(0,a.useState)(""),[f,b]=(0,a.useState)(""),[w,g]=(0,a.useState)(!1),[y,k]=(0,a.useState)("");(0,a.useEffect)(()=>{(0,h.createClient)().auth.getUser().then(({data:t})=>{let a=t.user?.email?.trim()||"";a?p(a):e.push("/login")})},[e]);let[j,v]=(0,a.useState)(0),[N,S]=(0,a.useState)(0);(0,a.useEffect)(()=>{let e;return j>0&&(e=setInterval(()=>v(e=>e-1),1e3)),()=>clearInterval(e)},[j]),(0,a.useEffect)(()=>{let e;return N>0&&(e=setInterval(()=>S(e=>e-1),1e3)),()=>clearInterval(e)},[N]);let z=async()=>{if(!m)return void k("E-posta bulunamadi. Lutfen yeniden giris yapin.");g(!0),k("");try{let e=await fetch("/api/admin/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m})});if(!e.ok){let t=await e.json();throw Error(t.message||"E-posta gönderilemedi.")}let t=await e.json();v("number"==typeof t.expiresIn?t.expiresIn:300),S("number"==typeof t.cooldown?t.cooldown:30),u("verify")}catch(e){k(e.message||"E-posta servisine ulaşılamadı."),v(0),S(0)}finally{g(!1)}},C=async()=>{if(!m)return void k("E-posta bulunamadi. Lutfen yeniden giris yapin.");g(!0),k("");try{let t=await fetch("/api/admin/verify-email/confirm",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:m,code:f})});if(!t.ok){let e=await t.json();throw Error(e.message||"Doğrulama başarısız.")}e.push("")}catch(e){k(e.message||"Doğrulama sırasında hata oluştu."),b("")}finally{g(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-black flex items-center justify-center p-4 relative overflow-hidden text-white",children:[(0,t.jsx)("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-orange-500/10 blur-[120px] rounded-full"}),(0,t.jsx)("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-red-500/10 blur-[120px] rounded-full"}),(0,t.jsxs)(r.Card,{className:"w-full max-w-md bg-zinc-950 border-white/10 shadow-2xl rounded-[3rem] overflow-hidden relative z-10 p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-10",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-500 to-red-600 rounded-[2rem] flex items-center justify-center mx-auto mb-6 shadow-2xl shadow-orange-500/20 rotate-3 transition-transform duration-500",children:(0,t.jsx)(l.ShieldCheck,{className:"w-10 h-10 text-white"})}),(0,t.jsx)("h1",{className:"text-2xl font-black text-white tracking-tight uppercase text-center",children:"Güvenlik Doğrulaması"}),(0,t.jsx)("p",{className:"text-zinc-500 text-sm font-bold mt-2 text-center tracking-widest uppercase opacity-80",children:"Sistem Sahibi Doğrulaması"})]}),y&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/50 rounded-2xl text-red-400 text-xs font-bold text-center animate-shake",children:y}),"request"===o?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"p-6 bg-white/5 rounded-[2rem] border border-white/5 text-center text-white",children:[(0,t.jsx)(n.Mail,{className:"w-8 h-8 text-zinc-600 mx-auto mb-4"}),(0,t.jsxs)("p",{className:"text-zinc-400 text-sm leading-relaxed text-center",children:["Sisteme tam yetki ile erişmek için ",(0,t.jsxs)("span",{className:"text-white font-bold",children:[m||"..."," "]})," adresine bir güvenlik kodu gönderilecektir."]})]}),(0,t.jsxs)(i.Button,{onClick:z,isLoading:w,className:"w-full h-16 bg-white text-black hover:bg-zinc-200 font-black uppercase tracking-[0.2em] rounded-2xl shadow-xl shadow-white/5 text-xs text-center",children:[(0,t.jsx)(x,{className:"w-4 h-4 mr-2"})," E-posta Kodu Gönder"]})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-[10px] font-black text-zinc-500 uppercase tracking-widest ml-1 text-center block",children:"Doğrulama Kodu"}),(0,t.jsx)("input",{type:"text",maxLength:6,placeholder:"000 000",value:f,onChange:e=>b(e.target.value.replace(/\D/g,"")),className:`w-full p-5 bg-zinc-900 border rounded-2xl text-white text-3xl font-black tracking-[0.5em] text-center outline-none transition-all ${j>0?"border-orange-500/50 focus:border-orange-500":"border-red-500/50 opacity-50 cursor-not-allowed"}`,disabled:0===j}),j>0?(0,t.jsxs)("p",{className:"text-center text-xs font-bold text-orange-500 animate-pulse",children:["Kalan Süre: ",j," saniye"]}):(0,t.jsx)("p",{className:"text-center text-xs font-bold text-red-500",children:"Süre doldu."})]}),(0,t.jsxs)(i.Button,{onClick:()=>{0===j?k("Kodun süresi doldu. Lütfen yeni kod isteyin."):C()},disabled:0===j||w,className:"w-full h-16 bg-gradient-to-r from-orange-600 to-red-600 text-white font-black uppercase tracking-[0.2em] rounded-2xl shadow-xl shadow-orange-500/30 text-xs text-center disabled:opacity-50 disabled:cursor-not-allowed",children:[w?"Kontrol Ediliyor...":"Sistemi Aç"," ",(0,t.jsx)(d,{className:"w-5 h-5 ml-2"})]}),(0,t.jsxs)("button",{onClick:()=>z(),disabled:N>0,className:`w-full text-[10px] font-black uppercase tracking-widest flex items-center justify-center gap-2 transition-colors cursor-pointer ${N>0?"text-zinc-600 opacity-50":"text-white hover:text-orange-500"}`,children:[(0,t.jsx)(c.RefreshCcw,{className:"w-3 h-3"})," ",N>0?`Tekrar g\xf6ndermek i\xe7in ${N} sn`:"Yeni Kod İste"]})]}),(0,t.jsx)("div",{className:"mt-10 pt-8 border-t border-white/5 text-center text-white",children:(0,t.jsx)("p",{className:"text-[9px] text-zinc-700 font-black uppercase tracking-[0.2em] text-center",children:"GymBoost Security Protocol v2.2"})})]})]})}e.s(["default",()=>u],91250)}]);