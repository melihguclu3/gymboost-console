(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,45068,e=>{"use strict";let t=(0,e.i(9983).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],45068)},89756,e=>{"use strict";let t=(0,e.i(9983).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],89756)},12404,e=>{"use strict";let t=(0,e.i(9983).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],12404)},65444,e=>{"use strict";let t=(0,e.i(9983).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],65444)},51877,e=>{"use strict";let t=(0,e.i(9983).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],51877)},53188,e=>{"use strict";let t=(0,e.i(9983).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],53188)},46294,e=>{"use strict";var t=e.i(58553),a=e.i(53292);e.i(60384);var s=e.i(14865),l=e.i(60126),r=e.i(33158),i=e.i(53003),c=e.i(63826),n=e.i(12404),d=e.i(9983);let o=(0,d.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var x=e.i(50624),m=e.i(53188),h=e.i(89756);let p=(0,d.default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var u=e.i(45068),g=e.i(51877),b=e.i(23083),f=e.i(65444);let y=(0,d.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);function v(){let[e,d]=(0,a.useState)([]),[v,j]=(0,a.useState)(!0),[k,w]=(0,a.useState)(""),[N,z]=(0,a.useState)({total:0,active:0,atRisk:0,expiringToday:0}),C=(0,i.createClient)();async function M(){j(!0);try{let{data:e,error:t}=await C.from("users").select(`
                    id, 
                    full_name, 
                    email, 
                    phone, 
                    created_at, 
                    status,
                    gyms (name),
                    memberships (status, end_date, plan_type)
                `).eq("role","member").order("created_at",{ascending:!1});if(t)throw t;if(e){d(e);let t=e.filter(e=>e.memberships?.some(e=>"active"===e.status)).length,a=Math.floor(.12*e.length);z({total:e.length,active:t,atRisk:a,expiringToday:Math.floor(5*Math.random())})}}catch(e){console.error("Veri yükleme hatası:",e)}finally{j(!1)}}(0,a.useEffect)(()=>{M()},[]);let T=e.filter(e=>e.full_name?.toLowerCase().includes(k.toLowerCase())||e.email?.toLowerCase().includes(k.toLowerCase())||e.gyms?.name?.toLowerCase().includes(k.toLowerCase()));return v?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"})}):(0,t.jsxs)("div",{className:"space-y-8 text-left text-white",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-black text-white flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-3 bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl shadow-xl",children:(0,t.jsx)(c.Users,{className:"w-8 h-8 text-white"})}),"Global Üye Ağı"]}),(0,t.jsxs)("p",{className:"text-zinc-400 mt-1 font-medium ml-14",children:["Platformdaki tüm spor salonlarının üyeleri (",e.length,")"]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(l.Button,{variant:"secondary",className:"bg-zinc-900 border-white/5 rounded-xl font-bold h-12",children:[(0,t.jsx)(o,{className:"w-4 h-4 mr-2"})," Gelişmiş Filtre"]})})]}),(0,t.jsx)(s.Card,{className:"bg-gradient-to-r from-blue-600/10 via-purple-600/5 to-transparent border-blue-500/20 p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:(0,t.jsx)(g.Sparkles,{className:"w-5 h-5 text-blue-400"})}),(0,t.jsxs)("p",{className:"text-sm text-zinc-300",children:[(0,t.jsx)("span",{className:"text-blue-400 font-bold uppercase tracking-tighter mr-2",children:"Zeka Katmanı:"}),"Toplam ağınızda üye sadakati geçen aya göre ",(0,t.jsx)("span",{className:"text-emerald-400 font-bold",children:"%8.2 arttı."}),' En yüksek büyüme "Elite Fitness" salonunda görülüyor.']})]})}),(0,t.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Toplam Sporcu",val:N.total,icon:c.Users,color:"text-white"},{label:"Aktif Üyelik",val:N.active,icon:h.CheckCircle2,color:"text-emerald-500"},{label:"Riskli Üye",val:N.atRisk,icon:b.AlertTriangle,color:"text-orange-500"},{label:"Bugün Bitecek",val:N.expiringToday,icon:f.Clock,color:"text-red-500"}].map((e,a)=>(0,t.jsxs)(s.Card,{className:"p-5 bg-zinc-950/50 border-white/5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)(e.icon,{className:`w-5 h-5 ${e.color}`}),(0,t.jsx)("div",{className:"px-2 py-0.5 bg-white/5 rounded text-[9px] font-black uppercase text-zinc-500 tracking-tighter",children:"Live"})]}),(0,t.jsx)("div",{className:"text-3xl font-black text-white tracking-tighter",children:e.val}),(0,t.jsx)("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest mt-1",children:e.label})]},a))}),(0,t.jsx)(s.Card,{className:"p-4 bg-zinc-950/50 border-white/5",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Search,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-600"}),(0,t.jsx)(r.Input,{placeholder:"Üye adı, e-posta, telefon veya salon adı ile evrensel arama...",value:k,onChange:e=>w(e.target.value),className:"pl-12 bg-zinc-900 border-white/5 h-14 rounded-2xl text-sm"})]})}),(0,t.jsxs)("div",{className:"space-y-3",children:[T.map(e=>(0,t.jsx)(s.Card,{padding:"none",className:"bg-zinc-900/20 border-white/5 hover:border-orange-500/30 transition-all group overflow-hidden",children:(0,t.jsxs)("div",{className:"flex items-center p-4 gap-6",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-white/5 rounded-2xl flex items-center justify-center border border-white/5 text-xl font-black text-zinc-500 group-hover:text-orange-500 group-hover:bg-orange-500/10 transition-all shrink-0",children:e.full_name?.charAt(0)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsx)("h3",{className:"text-lg font-bold text-white truncate",children:e.full_name}),(0,t.jsx)("span",{className:`px-2 py-0.5 rounded-md text-[9px] font-black uppercase tracking-widest border ${(e=>{switch(e){case"active":return"text-emerald-500 bg-emerald-500/10 border-emerald-500/20";case"pending":return"text-amber-500 bg-amber-500/10 border-amber-500/20";case"suspended":return"text-red-500 bg-red-500/10 border-red-500/20";default:return"text-zinc-500 bg-zinc-500/10 border-zinc-500/20"}})(e.status)}`,children:e.status||"ACTIVE"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-zinc-500",children:[(0,t.jsx)(x.Building2,{className:"w-3.5 h-3.5 text-orange-500"}),(0,t.jsx)("span",{className:"text-zinc-300 font-bold",children:e.gyms?.name||"Salonsuz"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-zinc-500",children:[(0,t.jsx)(u.Mail,{className:"w-3.5 h-3.5"})," ",e.email]}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-zinc-500",children:[(0,t.jsx)(m.Calendar,{className:"w-3.5 h-3.5"})," Katılım: ",new Date(e.created_at).toLocaleDateString("tr-TR")]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 shrink-0 pr-4",children:[(0,t.jsxs)("div",{className:"text-right hidden sm:block",children:[(0,t.jsx)("div",{className:"text-[10px] font-black text-zinc-600 uppercase tracking-widest mb-0.5",children:"Üyelik Tipi"}),(0,t.jsx)("div",{className:"text-xs font-bold text-white",children:e.memberships?.[0]?.plan_type||"Tanımsız"})]}),(0,t.jsx)("div",{className:"h-10 w-px bg-white/5 mx-2"}),(0,t.jsx)("button",{className:"p-2.5 text-zinc-600 hover:text-red-500 hover:bg-red-500/10 rounded-xl transition-all cursor-pointer title='Üyeliği Askıya Al'",children:(0,t.jsx)(y,{className:"w-5 h-5"})}),(0,t.jsx)("button",{className:"p-2.5 text-zinc-600 hover:text-white hover:bg-white/5 rounded-xl transition-all cursor-pointer",children:(0,t.jsx)(p,{className:"w-6 h-6"})})]})]})},e.id)),0===T.length&&(0,t.jsxs)("div",{className:"text-center py-20 bg-zinc-900/10 rounded-[3rem] border-2 border-dashed border-white/5",children:[(0,t.jsx)(c.Users,{className:"w-16 h-16 mx-auto mb-4 opacity-10"}),(0,t.jsx)("p",{className:"text-zinc-500 font-bold uppercase tracking-widest text-sm",children:"Üye bulunamadı"})]})]})]})}e.s(["default",()=>v],46294)}]);