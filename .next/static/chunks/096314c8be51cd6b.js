(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,62562,e=>{"use strict";let t=(0,e.i(9983).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["Globe",()=>t],62562)},24692,e=>{"use strict";let t=(0,e.i(9983).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>t],24692)},48111,e=>{"use strict";let t=(0,e.i(9983).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],48111)},36144,e=>{"use strict";let t=(0,e.i(9983).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],36144)},33818,e=>{"use strict";let t=(0,e.i(9983).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>t],33818)},62390,e=>{"use strict";var t=e.i(58553),s=e.i(53292),a=e.i(71032),l=e.i(53003);e.i(60384);var i=e.i(14865),r=e.i(60126),n=e.i(63826),c=e.i(36144),d=e.i(62562),x=e.i(9983);let m=(0,x.default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),o=(0,x.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var h=e.i(48111),u=e.i(24692),j=e.i(51677),p=e.i(33818),f=e.i(82267);let b=(0,x.default)("dumbbell",[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]]),v=({data:e})=>{if(!e||e.length<2)return null;let s=Math.max(...e),a=Math.min(...e),l=s-a||1,i=e.map((t,s)=>{let i=s/(e.length-1)*100;return`${i},${100-(t-a)/l*80-10}`}).join(" ");return(0,t.jsx)("div",{className:"w-full h-32 relative",children:(0,t.jsxs)("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"w-full h-full overflow-visible",children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"revenueGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#10b981",stopOpacity:"0.2"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#10b981",stopOpacity:"0"})]})}),(0,t.jsx)("polygon",{points:`0,100 ${i} 100,100`,fill:"url(#revenueGradient)"}),(0,t.jsx)("polyline",{fill:"none",stroke:"#10b981",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",points:i})]})})};function g({params:e}){let x=(0,a.useRouter)(),g=(0,s.use)(e).id,[N,y]=(0,s.useState)(!0),[w,k]=(0,s.useState)(null),[z,M]=(0,s.useState)({totalMembers:0,activeMembers:0,totalTrainers:0,totalRevenue:0,monthlyRevenue:0,lastMonthRevenue:0,revenueTrend:[],recentPayments:[]});(0,s.useEffect)(()=>{S()},[g]);let S=async()=>{y(!0);try{let e=(0,l.createClient)(),{data:t,error:s}=await e.from("gyms").select("*").eq("id",g).single();if(s)throw s;k(t);let{count:a}=await e.from("users").select("*",{count:"exact",head:!0}).eq("gym_id",g).eq("role","member"),{count:i}=await e.from("users").select("*",{count:"exact",head:!0}).eq("gym_id",g).eq("role","trainer"),{data:r}=await e.from("payments").select("amount, created_at, status").eq("gym_id",g).eq("status","completed").order("created_at",{ascending:!1}),n=r?.reduce((e,t)=>e+t.amount,0)||0,c=new Date,d=new Date(c.getFullYear(),c.getMonth(),1).toISOString(),x=new Date(c.getFullYear(),c.getMonth()-1,1).toISOString(),m=new Date(c.getFullYear(),c.getMonth(),0).toISOString(),o=r?.filter(e=>e.created_at>=d).reduce((e,t)=>e+t.amount,0)||0,h=r?.filter(e=>e.created_at>=x&&e.created_at<=m).reduce((e,t)=>e+t.amount,0)||0;M({totalMembers:a||0,activeMembers:a||0,totalTrainers:i||0,totalRevenue:n,monthlyRevenue:o,lastMonthRevenue:h,revenueTrend:[.1*n,.12*n,.15*n,.14*n,.18*n,.2*n],recentPayments:r?.slice(0,5)||[]})}catch(e){console.error("Error loading gym details:",e)}finally{y(!1)}};if(N)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full animate-spin"})});if(!w)return(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Salon Bulunamadı"}),(0,t.jsx)(r.Button,{variant:"secondary",onClick:()=>x.back(),className:"mt-4",children:"Geri Dön"})]});let C=w.settings?.status==="archived";return(0,t.jsxs)("div",{className:"space-y-8 pb-20",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(r.Button,{variant:"secondary",size:"sm",onClick:()=>x.back(),className:"bg-zinc-900 border-white/10 hover:bg-zinc-800 text-zinc-400",children:(0,t.jsx)(h.ArrowLeft,{className:"w-4 h-4"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h1",{className:"text-2xl font-black text-white",children:w.name}),(0,t.jsx)("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-widest border ${C?"bg-red-500/10 text-red-500 border-red-500/20":w.settings?.is_activated?"bg-emerald-500/10 text-emerald-500 border-emerald-500/20":"bg-amber-500/10 text-amber-500 border-amber-500/20"}`,children:C?"ARŞİVLENDİ":w.settings?.is_activated?"AKTİF":"BEKLEMEDE"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-zinc-400",children:[w.email&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(d.Globe,{className:"w-3.5 h-3.5"})," ",w.email]}),w.phone&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(m,{className:"w-3.5 h-3.5"})," ",w.phone]}),w.address&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(o,{className:"w-3.5 h-3.5"})," ",w.address]})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)(i.Card,{className:"lg:col-span-2 bg-zinc-950/50 border-white/5 p-6 relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"p-2 bg-emerald-500/10 rounded-lg",children:(0,t.jsx)(p.DollarSign,{className:"w-5 h-5 text-emerald-500"})}),(0,t.jsx)("span",{className:"text-xs font-bold text-zinc-500 uppercase tracking-widest",children:"Toplam Gelir"})]}),(0,t.jsxs)("div",{className:"text-4xl font-black text-white tracking-tight",children:[z.totalRevenue.toLocaleString("tr-TR")," ₺"]})]}),(0,t.jsxs)("div",{className:"flex gap-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest mb-1",children:"Bu Ay"}),(0,t.jsxs)("div",{className:"text-xl font-bold text-white",children:[z.monthlyRevenue.toLocaleString("tr-TR")," ₺"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest mb-1",children:"Geçen Ay"}),(0,t.jsxs)("div",{className:"text-xl font-bold text-zinc-400",children:[z.lastMonthRevenue.toLocaleString("tr-TR")," ₺"]})]})]})]}),(0,t.jsxs)("div",{className:"mt-auto",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("span",{className:"text-xs font-bold text-zinc-500",children:"6 Aylık Trend"}),(0,t.jsxs)("span",{className:"text-xs font-bold text-emerald-500 flex items-center gap-1",children:[(0,t.jsx)(c.TrendingUp,{className:"w-3 h-3"})," +12%"]})]}),(0,t.jsx)(v,{data:z.revenueTrend})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(i.Card,{className:"bg-zinc-950/50 border-white/5 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-zinc-400 uppercase tracking-widest",children:"Operasyon"}),(0,t.jsx)(f.Activity,{className:"w-4 h-4 text-zinc-600"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-blue-500/10 flex items-center justify-center text-blue-500",children:(0,t.jsx)(n.Users,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-bold text-white",children:"Üyeler"}),(0,t.jsx)("div",{className:"text-[10px] text-zinc-500",children:"Aktif Kayıtlar"})]})]}),(0,t.jsx)("div",{className:"text-xl font-black text-white",children:z.totalMembers})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-xl bg-orange-500/10 flex items-center justify-center text-orange-500",children:(0,t.jsx)(b,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-bold text-white",children:"Eğitmenler"}),(0,t.jsx)("div",{className:"text-[10px] text-zinc-500",children:"Kadro"})]})]}),(0,t.jsx)("div",{className:"text-xl font-black text-white",children:z.totalTrainers})]})]})]}),(0,t.jsxs)(i.Card,{className:"bg-zinc-950/50 border-white/5 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-zinc-400 uppercase tracking-widest",children:"Sistem Durumu"}),(0,t.jsx)(u.ShieldCheck,{className:"w-4 h-4 text-zinc-600"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-zinc-500",children:"Abonelik"}),(0,t.jsx)("span",{className:"font-bold text-white",children:"Pro Plan"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-zinc-500",children:"Yenileme"}),(0,t.jsx)("span",{className:"font-bold text-white",children:"12.12.2026"})]})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[(0,t.jsx)(j.CreditCard,{className:"w-5 h-5 text-zinc-500"}),"Son Ödemeler"]}),z.recentPayments.length>0?(0,t.jsx)("div",{className:"grid gap-3",children:z.recentPayments.map((e,s)=>(0,t.jsxs)(i.Card,{className:"bg-zinc-900/20 border-white/5 p-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-500",children:(0,t.jsx)(p.DollarSign,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"font-bold text-white",children:[e.amount.toLocaleString("tr-TR")," ₺"]}),(0,t.jsx)("div",{className:"text-xs text-zinc-500",children:new Date(e.created_at).toLocaleDateString("tr-TR",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"})})]})]}),(0,t.jsx)("div",{className:"px-3 py-1 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-500 text-[10px] font-black uppercase tracking-widest",children:"TAMAMLANDI"})]},s))}):(0,t.jsxs)(i.Card,{className:"bg-zinc-900/20 border-white/5 p-8 text-center",children:[(0,t.jsx)(j.CreditCard,{className:"w-12 h-12 text-zinc-700 mx-auto mb-3"}),(0,t.jsx)("div",{className:"text-white font-bold",children:"Ödeme Kaydı Yok"}),(0,t.jsx)("div",{className:"text-sm text-zinc-500",children:"Bu işletme henüz ödeme almamış."})]})]})]})}e.s(["default",()=>g],62390)}]);